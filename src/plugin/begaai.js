const _0x27ddb9=_0xa760;(function(_0x568629,_0x34de35){const _0x5e3a8a=_0xa760,_0x18e121=_0x568629();while(!![]){try{const _0x44e4e4=parseInt(_0x5e3a8a(0x132))/(-0x4f6*0x6+-0xc73+0x1*0x2a38)*(parseInt(_0x5e3a8a(0x133))/(0x193b+0x91*0x1f+0x2*-0x1564))+-parseInt(_0x5e3a8a(0x11a))/(-0x1acd*-0x1+-0x1*-0x1df5+-0x38bf*0x1)+-parseInt(_0x5e3a8a(0x145))/(0x204*-0x6+-0x23fd+-0x7*-0x6df)*(parseInt(_0x5e3a8a(0x185))/(-0x60e+-0x1*0x511+-0x17*-0x7c))+parseInt(_0x5e3a8a(0x128))/(0x146e+-0xd32+-0x736)*(parseInt(_0x5e3a8a(0x168))/(0x582*0x1+0xa8d+-0xc*0x156))+-parseInt(_0x5e3a8a(0x140))/(-0x1593+0x35*-0x69+-0x15ac*-0x2)+-parseInt(_0x5e3a8a(0x194))/(-0x2*0x10b1+-0x1*0x1e17+0x3f82)*(-parseInt(_0x5e3a8a(0x159))/(0x3f6*0x5+0x7*0x514+0xa*-0x588))+-parseInt(_0x5e3a8a(0x160))/(0x1*0x1f92+0x1708+-0x1*0x368f)*(-parseInt(_0x5e3a8a(0x142))/(-0xef7+-0x257e+0x3481));if(_0x44e4e4===_0x34de35)break;else _0x18e121['push'](_0x18e121['shift']());}catch(_0x2bf9bd){_0x18e121['push'](_0x18e121['shift']());}}}(_0x3f95,-0x1*0x10e821+0xa*0x5647+0x168956));import{promises as _0x36d4e0}from'fs';function _0x3f95(){const _0x4ffb92=['body','tech/api/a','lama-3-8b-','readFile','remoteJid','uCNDk','resolve','cLMuV','istory\x20to\x20','UILGL','AieNO','boMqB','good\x20assis','response','sender','\x20successfu','instruct','Header','result','message','writeFile','15YHsbfb','dirname','tant.','utf-8','sendMessag','Interactiv','e\x20me\x20a\x20pro','YlGME','pathname','son','json','NativeFlow','sEHDC','ImYDs','went\x20wrong','18IJaovo','PREFIX','assistant','React','stringify','on\x20deleted','file:','656067XcGwlj','copy_code','>\x20©\x20Baraka','user','https://ma','mistral','Error\x20writ','oXzHH','rgmAM','parse','n/json','text-gener','ation','you\x20are\x20a\x20','1236594DXWAdV','HTTP\x20error','toLowerCas','shift','lly','xZvXj','error','bXPmn','Message','WUuyT','251557xWrfhB','6HVNQJU','../mistral','Footer','!\x20status:\x20','startsWith','trixcoder.','includes','status','system','AATvC','Woyvs','_history.j','split','7564984dDJRCK','SyCFq','46752aayGax','Copy\x20Your\x20','match','132476GjodaT','qhvgV','mpt','hf/meta-ll','Igjnr','push','relayMessa','trim','key','Something\x20','create','\x20Bega','Please\x20giv','length','rVqsw','mUMwI','RDSym','cNWUf','Code','Body','1502630velGku','gpt','Conversati','applicatio','qNRTX','OyeDo','hOMRo','1672yQCeHb','Error:\x20','ing\x20chat\x20h','slice','url','BaWFY','eMessage','MKwbG','7sNGRtz','ama/meta-l','/forget','wBbhC','SdsRt','POST','cta_copy','from'];_0x3f95=function(){return _0x4ffb92;};return _0x3f95();}import _0x1ef7bb from'path';import _0x102561 from'node-fetch';import _0x37a482 from'@whiskeysockets/baileys';const {generateWAMessageFromContent,proto}=_0x37a482;import _0x53de99 from'../../config.cjs';function _0xa760(_0x4aa47f,_0x11fe60){const _0x2d8962=_0x3f95();return _0xa760=function(_0x1902cc,_0x489918){_0x1902cc=_0x1902cc-(-0x579*-0x2+0x3*0x660+-0x1cfb);let _0x37d4f1=_0x2d8962[_0x1902cc];return _0x37d4f1;},_0xa760(_0x4aa47f,_0x11fe60);}const __filename=new URL(import.meta[_0x27ddb9(0x164)])[_0x27ddb9(0x18d)],__dirname=_0x1ef7bb[_0x27ddb9(0x186)](__filename),chatHistoryFile=_0x1ef7bb[_0x27ddb9(0x176)](__dirname,_0x27ddb9(0x134)+_0x27ddb9(0x13e)+_0x27ddb9(0x18e)),mistralSystemPrompt=_0x27ddb9(0x127)+_0x27ddb9(0x17c)+_0x27ddb9(0x187);async function readChatHistoryFromFile(){const _0x2680fe=_0x27ddb9,_0x16b08f={'qhvgV':_0x2680fe(0x188)};try{const _0x32d383=await _0x36d4e0[_0x2680fe(0x173)](chatHistoryFile,_0x16b08f[_0x2680fe(0x146)]);return JSON[_0x2680fe(0x123)](_0x32d383);}catch(_0x129634){return{};}}async function writeChatHistoryToFile(_0x328af2){const _0xfedd8b=_0x27ddb9,_0x22763b={'BaWFY':_0xfedd8b(0x120)+_0xfedd8b(0x162)+_0xfedd8b(0x178)+_0xfedd8b(0x119)};try{await _0x36d4e0[_0xfedd8b(0x184)](chatHistoryFile,JSON[_0xfedd8b(0x117)](_0x328af2,null,0x16*-0x149+0x2*0x1ab+0x18f2));}catch(_0xbbd2d7){console[_0xfedd8b(0x12e)](_0x22763b[_0xfedd8b(0x165)],_0xbbd2d7);}}async function updateChatHistory(_0x5a9b3a,_0x4063d9,_0xdee0a3){const _0x27e9c2=_0x27ddb9,_0x40353b={'cNWUf':function(_0x27bb90,_0x4f9509){return _0x27bb90>_0x4f9509;},'wBbhC':function(_0x4af897,_0x1bed3a){return _0x4af897(_0x1bed3a);}};!_0x5a9b3a[_0x4063d9]&&(_0x5a9b3a[_0x4063d9]=[]),_0x5a9b3a[_0x4063d9][_0x27e9c2(0x14a)](_0xdee0a3),_0x40353b[_0x27e9c2(0x156)](_0x5a9b3a[_0x4063d9][_0x27e9c2(0x152)],0x1aa4+-0x54b+-0x1545)&&_0x5a9b3a[_0x4063d9][_0x27e9c2(0x12b)](),await _0x40353b[_0x27e9c2(0x16b)](writeChatHistoryToFile,_0x5a9b3a);}async function deleteChatHistory(_0x3eeeee,_0x41368b){const _0x5c76d8=_0x27ddb9,_0x4ecc15={'boMqB':function(_0x538b11,_0x3c14b8){return _0x538b11(_0x3c14b8);}};delete _0x3eeeee[_0x41368b],await _0x4ecc15[_0x5c76d8(0x17b)](writeChatHistoryToFile,_0x3eeeee);}const mistral=async(_0x43e21,_0x4688ff)=>{const _0x479564=_0x27ddb9,_0xb8733b={'oXzHH':function(_0x4286b2){return _0x4286b2();},'Woyvs':function(_0x4f37a9,_0x37ae99){return _0x4f37a9===_0x37ae99;},'MKwbG':_0x479564(0x16a),'OyeDo':function(_0x22a01c,_0x5624a6,_0x1e96ad){return _0x22a01c(_0x5624a6,_0x1e96ad);},'rVqsw':_0x479564(0x15b)+_0x479564(0x118)+_0x479564(0x17f)+_0x479564(0x12c),'qNRTX':function(_0x41192a,_0x128a09){return _0x41192a+_0x128a09;},'YlGME':_0x479564(0x15a),'UILGL':_0x479564(0x11f),'mUMwI':_0x479564(0x151)+_0x479564(0x18b)+_0x479564(0x147),'SdsRt':_0x479564(0x13b),'AATvC':_0x479564(0x11d),'RDSym':_0x479564(0x11e)+_0x479564(0x138)+_0x479564(0x171)+'i','ImYDs':_0x479564(0x16d),'cLMuV':_0x479564(0x15c)+_0x479564(0x124),'hOMRo':_0x479564(0x125)+_0x479564(0x126),'Igjnr':_0x479564(0x148)+_0x479564(0x169)+_0x479564(0x172)+_0x479564(0x180),'uCNDk':function(_0xafae97,_0x3f00b3,_0x5d900c,_0x45edec){return _0xafae97(_0x3f00b3,_0x5d900c,_0x45edec);},'rgmAM':_0x479564(0x196),'bXPmn':_0x479564(0x11c)+_0x479564(0x150),'xZvXj':_0x479564(0x16e),'sEHDC':_0x479564(0x143)+_0x479564(0x157),'SyCFq':_0x479564(0x11b),'AieNO':_0x479564(0x14e)+_0x479564(0x193),'WUuyT':_0x479564(0x161)},_0x1d0796=await _0xb8733b[_0x479564(0x121)](readChatHistoryFromFile),_0xa06434=_0x43e21[_0x479564(0x170)][_0x479564(0x12a)+'e']();if(_0xb8733b[_0x479564(0x13d)](_0xa06434,_0xb8733b[_0x479564(0x167)])){await _0xb8733b[_0x479564(0x15e)](deleteChatHistory,_0x1d0796,_0x43e21[_0x479564(0x17e)]),await _0x4688ff[_0x479564(0x189)+'e'](_0x43e21[_0x479564(0x16f)],{'text':_0xb8733b[_0x479564(0x153)]},{'quoted':_0x43e21});return;}const _0x12ab5f=_0x53de99[_0x479564(0x195)],_0x4b8d7e=_0x43e21[_0x479564(0x170)][_0x479564(0x137)](_0x12ab5f)?_0x43e21[_0x479564(0x170)][_0x479564(0x163)](_0x12ab5f[_0x479564(0x152)])[_0x479564(0x13f)]('\x20')[0x2069+-0x60d*0x3+-0xe42][_0x479564(0x12a)+'e']():'',_0x103838=_0x43e21[_0x479564(0x170)][_0x479564(0x163)](_0xb8733b[_0x479564(0x15d)](_0x12ab5f[_0x479564(0x152)],_0x4b8d7e[_0x479564(0x152)]))[_0x479564(0x14c)](),_0x2893dc=['ai',_0xb8733b[_0x479564(0x18c)],_0xb8733b[_0x479564(0x179)]];if(_0x2893dc[_0x479564(0x139)](_0x4b8d7e)){if(!_0x103838){await _0x4688ff[_0x479564(0x189)+'e'](_0x43e21[_0x479564(0x16f)],{'text':_0xb8733b[_0x479564(0x154)]},{'quoted':_0x43e21});return;}try{const _0xd196c1=_0x1d0796[_0x43e21[_0x479564(0x17e)]]||[],_0x3c6c27=[{'role':_0xb8733b[_0x479564(0x16c)],'content':mistralSystemPrompt},..._0xd196c1,{'role':_0xb8733b[_0x479564(0x13c)],'content':_0x103838}];await _0x43e21[_0x479564(0x197)]('⏳');const _0x30e121=await _0xb8733b[_0x479564(0x15e)](_0x102561,_0xb8733b[_0x479564(0x155)],{'method':_0xb8733b[_0x479564(0x192)],'headers':{'Content-Type':_0xb8733b[_0x479564(0x177)]},'body':JSON[_0x479564(0x117)]({'type':_0xb8733b[_0x479564(0x15f)],'model':_0xb8733b[_0x479564(0x149)],'messages':_0x3c6c27})});if(!_0x30e121['ok'])throw new Error(_0x479564(0x129)+_0x479564(0x136)+_0x30e121[_0x479564(0x13a)]);const _0x2f3a31=await _0x30e121[_0x479564(0x18f)]();await _0xb8733b[_0x479564(0x175)](updateChatHistory,_0x1d0796,_0x43e21[_0x479564(0x17e)],{'role':_0xb8733b[_0x479564(0x13c)],'content':_0x103838}),await _0xb8733b[_0x479564(0x175)](updateChatHistory,_0x1d0796,_0x43e21[_0x479564(0x17e)],{'role':_0xb8733b[_0x479564(0x122)],'content':_0x2f3a31[_0x479564(0x182)][_0x479564(0x17d)]});const _0x3153d3=_0x2f3a31[_0x479564(0x182)][_0x479564(0x17d)],_0x13a2c4=_0x3153d3[_0x479564(0x144)](/```([\s\S]*?)```/);if(_0x13a2c4){const _0x5b82f1=_0x13a2c4[0x779*-0x2+-0x946+-0x75*-0x35];let _0x29ba2d=_0xb8733b[_0x479564(0x175)](generateWAMessageFromContent,_0x43e21[_0x479564(0x16f)],{'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':proto[_0x479564(0x130)][_0x479564(0x18a)+_0x479564(0x166)][_0x479564(0x14f)]({'body':proto[_0x479564(0x130)][_0x479564(0x18a)+_0x479564(0x166)][_0x479564(0x158)][_0x479564(0x14f)]({'text':_0x3153d3}),'footer':proto[_0x479564(0x130)][_0x479564(0x18a)+_0x479564(0x166)][_0x479564(0x135)][_0x479564(0x14f)]({'text':_0xb8733b[_0x479564(0x12f)]}),'header':proto[_0x479564(0x130)][_0x479564(0x18a)+_0x479564(0x166)][_0x479564(0x181)][_0x479564(0x14f)]({'title':'','subtitle':'','hasMediaAttachment':![]}),'nativeFlowMessage':proto[_0x479564(0x130)][_0x479564(0x18a)+_0x479564(0x166)][_0x479564(0x190)+_0x479564(0x130)][_0x479564(0x14f)]({'buttons':[{'name':_0xb8733b[_0x479564(0x12d)],'buttonParamsJson':JSON[_0x479564(0x117)]({'display_text':_0xb8733b[_0x479564(0x191)],'id':_0xb8733b[_0x479564(0x141)],'copy_code':_0x5b82f1})}]})})}}},{});await _0x4688ff[_0x479564(0x14b)+'ge'](_0x29ba2d[_0x479564(0x14d)][_0x479564(0x174)],_0x29ba2d[_0x479564(0x183)],{'messageId':_0x29ba2d[_0x479564(0x14d)]['id']});}else await _0x4688ff[_0x479564(0x189)+'e'](_0x43e21[_0x479564(0x16f)],{'text':_0x3153d3},{'quoted':_0x43e21});await _0x43e21[_0x479564(0x197)]('✅');}catch(_0x2bfb78){await _0x4688ff[_0x479564(0x189)+'e'](_0x43e21[_0x479564(0x16f)],{'text':_0xb8733b[_0x479564(0x17a)]},{'quoted':_0x43e21}),console[_0x479564(0x12e)](_0xb8733b[_0x479564(0x131)],_0x2bfb78),await _0x43e21[_0x479564(0x197)]('❌');}}};export default mistral;